<!DOCTYPE html>
<head>
	<script>
		var captions = [
			[0, "Bang"],
			[3, "a"],
			[5, "rang"]
		];


		function onPageLoad() {
			var audio = document.getElementById("audio");
			new Captioner(document.getElementById("audio"), document.getElementById("caption"), captions);
		}

		function Captioner(audioElement, captionElement, captionArray) {
			this.audioElement = audioElement;
			this.captionElement = captionElement;
			this.captionArray = captionArray;
			this.updateCaptions = function() {
				var time = this.audioElement.currentTime;
				if (time < 3) {
					this.captionElement.innerHTML = "Bang";
				} else if (time < 10) {
					this.captionElement.innerHTML = "a rang";
				} else {
					this.captionElement.innerHTML = "wub wub wub";
				}
			};
			captioner = this;
			audioElement.addEventListener('timeupdate',
					function() {
						captioner.updateCaptions();
					});
		}

		window.onload = onPageLoad;
	</script>
</head>
<body>
	<div id = "caption">Captions go here</div>
	<audio id = "audio" controls>
		<source src="audio.mp3" type="audio/mpeg">
		Error, Will Robinson!
	</audio>
</body>